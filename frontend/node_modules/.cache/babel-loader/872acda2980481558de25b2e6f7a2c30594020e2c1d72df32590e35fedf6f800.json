{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Button from\"../../components/Button\";import useAuth from\"../../hooks/useAuth\";import*as C from\"./styles\";import Input from\"../../components/Input\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Vacinas=()=>{const{signout,getUbsWithVacinas,vacinasList}=useAuth();const navigate=useNavigate();const[vacinasData,setVacinasData]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");useEffect(()=>{const fetchData=async()=>{await getUbsWithVacinas();console.log(\"Vacinas List:\",vacinasList);setVacinasData(vacinasList);};fetchData();},[getUbsWithVacinas,vacinasList]);const filteredVacinas=vacinasData.filter(vac=>vac.vacina.toLowerCase().includes(searchTerm.toLowerCase()));const vacinasByName=filteredVacinas.reduce((acc,vac)=>{acc[vac.vacina]=acc[vac.vacina]||[];acc[vac.vacina].push(vac.ubs);return acc;},{});const handleSearchChange=e=>{setSearchTerm(e.target.value);};return/*#__PURE__*/_jsxs(C.Container,{children:[/*#__PURE__*/_jsxs(C.Menu,{children:[/*#__PURE__*/_jsx(C.Title,{children:\"UBS VAC\"}),/*#__PURE__*/_jsx(Button,{Text:\"Home\",onClick:()=>navigate(\"/home\")}),/*#__PURE__*/_jsx(Button,{Text:\"Encontrar UBS\",onClick:()=>navigate(\"/ubs\")}),/*#__PURE__*/_jsx(Button,{Text:\"Vacinas\",onClick:()=>navigate(\"/vacinas\")}),/*#__PURE__*/_jsx(Button,{Text:\"Feedback\",onClick:()=>navigate(\"/feedback\")}),/*#__PURE__*/_jsx(Button,{Text:\"Sair\",onClick:()=>[signout(),navigate(\"/\")]})]}),/*#__PURE__*/_jsxs(C.MainContent,{children:[/*#__PURE__*/_jsx(C.TitleVacinas,{children:\"Lista de Vacinas Dispon\\xEDveis\"}),/*#__PURE__*/_jsxs(C.BoxFilter,{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Digite o nome da vacina\",value:searchTerm,onChange:handleSearchChange}),searchTerm&&/*#__PURE__*/_jsx(C.CleaningButton,{onClick:()=>setSearchTerm(''),children:\"x\"})]}),/*#__PURE__*/_jsx(C.VacinasList,{children:Object.entries(vacinasByName).map(_ref=>{let[vacina,ubs]=_ref;return/*#__PURE__*/_jsxs(C.VacinaItem,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Vacina: \",vacina]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"UBSs:\"})}),/*#__PURE__*/_jsx(\"ul\",{children:ubs.map((ubsName,index)=>/*#__PURE__*/_jsx(\"li\",{children:ubsName},index))})]},vacina);})})]})]});};export default Vacinas;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Button","useAuth","C","Input","jsx","_jsx","jsxs","_jsxs","Vacinas","signout","getUbsWithVacinas","vacinasList","navigate","vacinasData","setVacinasData","searchTerm","setSearchTerm","fetchData","console","log","filteredVacinas","filter","vac","vacina","toLowerCase","includes","vacinasByName","reduce","acc","push","ubs","handleSearchChange","e","target","value","Container","children","Menu","Title","Text","onClick","MainContent","TitleVacinas","BoxFilter","type","placeholder","onChange","CleaningButton","VacinasList","Object","entries","map","_ref","VacinaItem","ubsName","index"],"sources":["C:/Users/djunior/Documents/railway/site_ubsVac/frontend/src/pages/Vacinas/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"../../components/Button\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport * as C from \"./styles\";\r\nimport Input from \"../../components/Input\";\r\n\r\nconst Vacinas = () => {\r\n  const { signout, getUbsWithVacinas, vacinasList } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  \r\n  const [vacinasData, setVacinasData] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await getUbsWithVacinas();\r\n      console.log(\"Vacinas List:\", vacinasList);\r\n      setVacinasData(vacinasList);\r\n    };\r\n    fetchData();\r\n  }, [getUbsWithVacinas, vacinasList]);\r\n\r\n  const filteredVacinas = vacinasData.filter((vac) =>\r\n    vac.vacina.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const vacinasByName = filteredVacinas.reduce((acc, vac) => {\r\n    acc[vac.vacina] = acc[vac.vacina] || [];\r\n    acc[vac.vacina].push(vac.ubs);\r\n    return acc;\r\n  }, {});\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <C.Container>\r\n      <C.Menu>\r\n        <C.Title>UBS VAC</C.Title>\r\n        <Button Text=\"Home\" onClick={() => navigate(\"/home\")} />\r\n        <Button Text=\"Encontrar UBS\" onClick={() => navigate(\"/ubs\")} />\r\n        <Button Text=\"Vacinas\" onClick={() => navigate(\"/vacinas\")} />\r\n        <Button Text=\"Feedback\" onClick={() => navigate(\"/feedback\")} />\r\n        <Button Text=\"Sair\" onClick={() => [signout(), navigate(\"/\")]}/>\r\n      </C.Menu>\r\n      <C.MainContent>\r\n        <C.TitleVacinas>Lista de Vacinas Dispon√≠veis</C.TitleVacinas>\r\n        <C.BoxFilter>\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Digite o nome da vacina\"\r\n            value={searchTerm}\r\n            onChange={handleSearchChange}\r\n          />\r\n          {searchTerm && (\r\n            <C.CleaningButton onClick={() => setSearchTerm('')}>x</C.CleaningButton>\r\n          )}\r\n        </C.BoxFilter>\r\n        <C.VacinasList>\r\n          {Object.entries(vacinasByName).map(([vacina, ubs]) => (\r\n            <C.VacinaItem key={vacina}>\r\n              <p><b>Vacina: {vacina}</b></p>\r\n              <p><b>UBSs:</b></p>\r\n              <ul>\r\n                {ubs.map((ubsName, index) => (\r\n                  <li key={index}>{ubsName}</li>\r\n                ))}\r\n              </ul>\r\n            </C.VacinaItem>\r\n          ))}\r\n        </C.VacinasList>\r\n      </C.MainContent>\r\n    </C.Container>\r\n  );\r\n};\r\n\r\nexport default Vacinas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}